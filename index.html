<html>
<head>
  <meta charset="utf-8"/>
  <title>Map</title>
  <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no'/>
  <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.29.0/mapbox-gl.js'></script>
  <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.29.0/mapbox-gl.css' rel='stylesheet'/>
  <style>
    body {margin: 0; padding: 0}
    #map {position:absolute ; top:0; bottom: 0; width: 50%; height: 50%;}
  </style>
</head>

<body>
  <div id="map"></div>

<script>
  mapboxgl.accessToken = "pk.eyJ1IjoidGVhcjcyOCIsImEiOiJjaXhnb2gzdmswMDNhMnpsYWVzZXF1Y245In0.BUMz1l0PWVXXCpJ75YRong";

  navigator.geolocation.getCurrentPosition(function(position) {
    var map = new mapboxgl.Map({
      container: 'map', //ontainer id
      // maxZoom: 28,
      // minZoom: 25,
      style: 'mapbox://styles/mapbox/streets-v9',
      center: [position.coords.longitude, position.coords.latitude],
      zoom: 26
    });
    console.log((position.coords.longitude, position.coords.latitude));
    map.on('load', function () {
      map.addSource("points", {
          "type": "geojson",
          "data": {
              "type": "FeatureCollection",
              "features": [{
                  "type": "Feature",
                  "geometry": {
                      "type": "Point",
                      "coordinates": [position.coords.longitude, position.coords.latitude]
                  },
                  "properties": {
                      "title": "You",
                      "icon": "monument"
                  }
              }]
            }
      });

      map.addLayer({
          "id": "points",
          "type": "symbol",
          "source": "points",
          "layout": {
              "icon-image": "{icon}-15",
              "text-field": "{title}",
              "text-font": ["Open Sans Semibold", "Arial Unicode MS Bold"],
              "text-offset": [0, 0.6],
              "text-anchor": "top"
          }
      });
    });
  }, null, {enableHighAccuracy: true });
  </script>
</body>
</html>
